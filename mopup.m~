%  Basic Viewer for Sand Survey Database NETCDF files

close all

% figure out paths to mfiles and data based on this m-script's location
toolboxpath=mfilename('fullpath');
toolfolder=fileparts(toolboxpath);
mopfolder=strrep(toolfolder,'toolbox','');

fig=figure('Name','CPGMOP Database','NumberTitle','off',...
    'position',[90 800 1300 60],'ToolBar','none','MenuBar','none');
set(fig,'Color',[223 206 157]/256);

fig2=figure('NumberTitle','off',...
     'position',[90 70 1300 680],'ToolBar','figure','MenuBar','none');

set(0,'DefaultUicontrolFontSize',20);
set(0,'DefaultUicontrolFontWeight','normal');

% get lists of mat files in the CPGMOP database
SAf=dir([mopfolder 'M*SA.mat']);
SGf=dir([mopfolder 'M*SG.mat']);
SGf=dir([mopfolder 'M*SG.mat']);

% extract list of Mop Numbers
MopCellStr=strrep(strrep({SAf.name}','M',''),'SA.mat','');
MopNums=cell2mat(MopCellStr);
% load first 

bc=([223 206 157]/256); % gui figure background color

MOPhead=uicontrol(fig,'style','text','position',[40 20 80 40],...
    'string','MOP #','foregroundcolor','b','backgroundcolor',bc);
MOPmenu=uicontrol(fig,'style','popup','position',[20 1 120 40],...
   'string',MopCellStr,'Value',1,'callback',...
   'updateMOPsrv;viewStruct');

%[SRVhead,SRVmenu]=updateMOPsrv(fig,bc,SAf,MOPmenu);
updateMOPsrv

% list of struct array and mat file types
% Scall=[{'viewSAstruct'},{'viewSGstruct'},{'viewSMstruct'},...
%     {'viewGMstruct'},{'viewSWstruct'}]';
Scall=['viewSAstruct';'viewSGstruct';'viewSMstruct';...
    'viewGMstruct';'viewSWstruct'];
Sdesc=[{'SA - 1m Avg Survey Data                           '},...
       {'SG - 1m Gridded Survey Data                       '},...
       {'SM - Survey Morphological Parameters              '},...
       {'GM - Global (All Surveys) Morphological Parameters'},...
       {'SW - Wave Parameters Since the Previous Survey    '}]';

Shead=uicontrol(fig,'style','text','position',[640 20 80 40],...
    'string','Data File Type','foregroundcolor','b','backgroundcolor',bc);
Smenu=uicontrol(fig,'style','popup','position',[480 1 500 40],...
    'string',Sdesc,'Value',1,'callback','viewStruct');

viewStruct;

% viewSA=uicontrol(fig,'style','pushbutton','position',[350 15 130 30],...
%     'string','SA (1m AVG)','foregroundcolor','w','backgroundcolor','b',...
%     'callback','viewSAstruct');
% viewSG=uicontrol(fig,'style','pushbutton','position',[500 15 130 30],...
%     'string','SG (1m Grid)','foregroundcolor','w','backgroundcolor','b',...
%     'callback','viewSGstruct');
% viewSM=uicontrol(fig,'style','pushbutton','position',[650 15 140 30],...
%     'string','SM (Morpho)','foregroundcolor','w','backgroundcolor','b',...
%     'callback','viewSMstruct');
% viewGM=uicontrol(fig,'style','pushbutton','position',[800 15 200 30],...
%     'string','GM (Global Morpho)','foregroundcolor','w','backgroundcolor','b',...
%     'callback','viewGMstruct');
% viewSW=uicontrol(fig,'style','pushbutton','position',[1010 15 120 30],...
%     'string','SW (Waves)','foregroundcolor','w','backgroundcolor','b',...
%     'callback','viewSWstruct');
% 

